import{c as N,r as c,a as i,j as e}from"./app-fe5871cc.js";import{P as t}from"./PDTable-f14cb89f.js";import g from"./ClinicDropdown-fddc1c7c.js";import{d as _}from"./index-b6042d42.js";import{A as f}from"./Actions-0e71cdcf.js";import{L as x}from"./index.es-1d18b60d.js";import{E as v,L as D}from"./99297-loading-files-9e06f5df.js";import{c as S}from"./index-a9ae74f2.js";import{M as B}from"./ModalNew-948de0cd.js";import"./index-7c0a6257.js";import"./transition-3a983702.js";import"./index-214273b9.js";import"./dialog-e9a84081.js";const q=o=>n=>N.post(o).then(a=>(n({type:f.CLINIC_REQUEST_SUCCESS,data:a.data.clinic_request}),Promise.resolve(a))).catch(a=>(n({type:f.CLINIC_REQUEST_FAILED,data:a}),Promise.reject(a))),E=o=>n=>N.post(o.url,o.payload).then(a=>Promise.resolve(a)).catch(a=>Promise.reject(a));function w({listState:o,getRequest:n,approveDecline:a}){const[u,h]=c.useState(!1),[d,y]=c.useState([]),[C,r]=c.useState({});c.useEffect(()=>{h(!0),m()},[]);const m=()=>{n(route("clinic_request_list")).then(s=>{y(s.data.clinic_request),h(!1)})},T=s=>{r({title:"Confimation",textMessage:"Do you want to Approve?",isVisible:!0,cancelButton:()=>{r(l=>({...l,isVisible:!1}))},applyButton(){a({url:route("cl_request_approve_decline"),payload:{req_id:s,status:"approved"}}).then(l=>{r(p=>({...p,isVisible:!1})),m()})}})},b=s=>{r({title:"Confimation",textMessage:"Do you want to Decline?",isVisible:!0,cancelButton:()=>{r(l=>({...l,isVisible:!1}))},applyButton(){a({url:route("cl_request_approve_decline"),payload:{req_id:s,status:"decline"}}).then(l=>{r(p=>({...p,isVisible:!1})),m()})}})};return i("div",{children:[e("div",{className:" ",children:e("h1",{className:"font-bold text-2xl text-gray-500 uppercase",children:"clinic report case"})}),e("div",{className:"flex flex-row justify-end px-4 py-3",children:e("div",{className:"my-auto search-boxContainer d-none d-lg-block mr-2",children:e("input",{type:"text",className:"form-control search-box",placeholder:"Search...","aria-label":"Example text with button addon","aria-describedby":"button-addon1"})})}),i(t,{children:[i(t.Header,{children:[e(t.Theader,{className:"font-bold text-gray-600",children:"student number"}),e(t.Theader,{className:"font-medium",children:"name"}),e(t.Theader,{className:"font-medium",children:"position"}),e(t.Theader,{className:"font-medium",children:"Cases"}),e(t.Theader,{className:"font-medium",children:"Recommendation"}),e(t.Theader,{className:"font-medium",children:"Date Report"}),e(t.Theader,{className:"font-medium",children:"status"}),e(t.Theader,{className:"font-medium"})]}),i(t.TBody,{children:[d.map((s,l)=>i(t.TBodyRow,{children:[e(t.Theader,{className:"font-bold text-gray-600",children:s.student_id}),e(t.TBodyColumn,{className:"px-6",children:s.name}),e(t.TBodyColumn,{className:"px-6",children:s.position||"-"}),e(t.TBodyColumn,{className:"px-6",children:s.cases}),e(t.TBodyColumn,{className:"px-6",children:s.recommendation}),e(t.TBodyColumn,{className:"px-6",children:s.datereport}),e(t.TBodyColumn,{className:S("px-6 capitalize",s.status=="approved"?"text-green-600":"text-red-600"),children:s.status}),e(t.TBodyColumn,{className:"px-6",children:e(g,{onChangeApprove:()=>T(s.id),onChangeDecline:()=>b(s.id)})})]},l)),d.length<=0&&!u&&e("tr",{children:e("td",{colSpan:8,className:"pb-4",children:i("div",{className:"flex flex-col items-center",children:[e(x,{style:{width:100,height:100},animationData:v,loop:!0}),e("span",{className:"uppercase text-sm",children:"no record found"})]})})}),u&&d.length<=0&&e("tr",{children:e("td",{colSpan:8,className:"pb-4",children:i("div",{className:"flex flex-col items-center",children:[e(x,{style:{width:120,height:120},animationData:D,loop:!0}),i("span",{className:"uppercase text-sm font-bold",children:["   "," loading ..."]})]})})})]})]}),e(B,{...C})]})}const L=o=>({listState:o.clinicRequest}),R=o=>({getRequest:n=>o(q(n)),approveDecline:n=>o(E(n))}),G=_(L,R)(w);export{G as default};
